########################## СОЗДАНИЕ ТАБЛИЦ ##########################

CREATE TABLE Cards(
    id_card int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    number int NOT NULL UNIQUE,
    owner int NOT NULL REFERENCES Users(id_user) ON DELETE CASCADE,
    exp_month SMALLINT NOT NULL CHECK (exp_month BETWEEN 1 AND 12),
    exp_year SMALLINT NOT NULL  CHECK (exp_year >= EXTRACT(YEAR FROM current_date)),
    status varchar(20) NOT NULL,
    balance REAL
);

SELECT * FROM Cards;

CREATE TABLE Users(
    id_user int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    firstname varchar(20) NOT NULL,
    midname varchar(20) NOT NULL,
    lastname varchar(20) NOT NULL,
    login varchar(30) NOT NULL UNIQUE,
    password varchar(100) NOT NULL,
    roles varchar(100) NOT NULL
);

SELECT * FROM Users;
